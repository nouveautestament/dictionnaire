<!DOCTYPE html>
<html lang="fr">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Nouveau Testament">
		<meta name="keywords" content="Nouveau Testament">
	
		<title>LSJ</title>

		<style>
			html {
				margin:0;
				padding:0;
			}
			
			
			body {
				margin:0;
				padding:0;
				font-family:sans-serif;
			}
			
			a {
				color:black;
				text-decoration:none;
			}

			a:hover {
				text-decoration:underline;
			}

			
			#banniere {
				margin:0px;
				padding:0px;
				color:white;
				background-color:#172028;
			}
		
			.blocban {
				margin:0px;
				padding:10px;
				display:inline-block;
				font-size:0.9em;
				color:white;
				text-decoration:none;
			}
			
			
			.blocban:hover {
				text-decoration:none;
				background-color:#3f4346;
			}
			
			#here {
				padding:8px;
			}

		</style>
	</head>

<body>

<div id="banniere"><!--
	--><span class="blocban">Ȼ</span><!--
	--><a class="blocban" href="../index.html">INDEX</a><!--
	--><a class="blocban" href="../agora/index.html">AGORA</a><!--
	--><a class="blocban" href="../nd/nd.html">ND</a><!--
	--><a class="blocban" href="../interlineaire/hellene/1-1.html">HELLENE</a><!--
	--><a class="blocban" href="../interlineaire/romain/1-1.html">ROMAIN</a><!--
	--><a class="blocban" href="../interlineaire/francais/1-1.html">FRANCAIS</a><!--
	--><a class="blocban" href="../interlineaire/technique/1-1.html">TECHNIQUE</a><!--
	--><a class="blocban" href="../lemme/lemmes.html">LEMME</a><!--
	--><a class="blocban" href="../lemme/conflits.html">CONFLIT</a><!--
	--><a class="blocban" href="../dictionnaire/lsj.html">LSJ</a><!--
	--><a class="blocban" href="../dictionnaire/bailly.html">BAILLY</a><!--
	--><a class="blocban" href="../minidico/dictionnaire.html">MINIDICO</a><!--
	--><a class="blocban" href="../guematrie/index.html">GUÉMATRIE</a><!--
	--><a class="blocban" href="https://github.com/nouveautestament/">CODE</a>
</div>

<br>
<div id="here">
	<input type="text" placeholder="CHERCHE HELLENE" name="greek" id="greek" onkeypress="if (event.keyCode == 13) greek()"/>
	<br><br>
	<div id="main">
	</div>
</div>

</body>



<script>

x = 0;

function greek()
{
	document.getElementById('main').innerHTML = ""
	grk = document.getElementById('greek').value;
	if (grk.match(/[a-zA-Z]/))
	{
		ws.send('lsj|-|-|'+grk);
		grk = frel(grk)
		ws.send('lsj|-|-|'+grk);

	}
	else
	{
		ws.send('lsj|-|-|'+grk);
	}
	
	
}



function startWebsocket() {
  
  
	ws = new WebSocket("wss://nouveautestament.alwaysdata.net");




	ws.addEventListener('message', function (event) {

		if (event.data.indexOf('lsj|-|-|') != -1)
		{
			evda = event.data.replace('lsj|-|-|','')
			
			xx3 = document.createElement("div");
			xx3.innerHTML = evda+"<br><br>"
			document.getElementById('main').appendChild(xx3);
		}
	});




	ws.addEventListener("open", () => {

		console.log('OPEN')

		if (window.location.href.indexOf('#') != -1 && x == 0)
		{
			grk = decodeURI(window.location.href.split('#')[1])
			document.getElementById('greek').value = grk
			greek();
			x = 1;
		}

});


	ws.addEventListener("close", () => {

		console.log('CLOSE')
		ws = null
		setTimeout(startWebsocket, 5000)

	});

  
  
  
}




startWebsocket()






tablegrec = {
'A':'Α',
'a':'α',
'B':'Β',
'b':'β',
'G':'Γ',
'g':'γ',
'D':'Δ',
'd':'δ',
'E':'Ε',
'e':'ε',
'Z':'Ζ',
'z':'ζ',
'Ê':'Η',
'ê':'η',
'Th':'Θ',
'th':'θ',
'I':'Ι',
'i':'ι',
'K':'Κ',
'k':'κ',
'L':'Λ',
'l':'λ',
'M':'Μ',
'm':'μ',
'N':'Ν',
'n':'ν',
'Ks':'Ξ',
'ks':'ξ',
'O':'Ο',
'o':'ο',
'P':'Π',
'p':'π',
'R':'Ρ',
'r':'ρ',
'S':'Σ',
's':'σ',
's':'ς',
'T':'Τ',
't':'τ',
'U':'Υ',
'u':'υ',
'Y':'Υ',
'y':'υ',
'PH':'Φ',
'ph':'φ',
'Ch':'Χ',
'ch':'χ',
'Ps':'Ψ',
'ps':'ψ',
'Ô':'Ω',
'ô':'ω',
}



function frel(frw) {

frw=frw.replace(/ph/,"φ");
frw=frw.replace(/th/,"θ");
frw=frw.replace(/ks/,"ξ");
frw=frw.replace(/ch/,"χ");
frw=frw.replace(/ps/,"ψ");

frw=frw.split('');
	send='';
	
	for (z=0; z != frw.length;z++)
	{
		if (!tablegrec[frw[z]])
			console.log('ERROR : '+frw[z])
		
		send+=tablegrec[frw[z]];
	}
	return send;
}


</script>
</html>