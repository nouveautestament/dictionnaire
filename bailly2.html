<!DOCTYPE html><html lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Nouveau Testament">
<meta name="keywords" content="Nouveau Testament">
	
<title>BAILLY</title>	
<script src="bailly.js"></script>
<script src="out2.js"></script>
<style>
html {
margin:0;
padding:0;
}

body {
margin:0;
padding:0;
font-family:serif;
}

a {
color:black;
text-decoration:none;
}

a:hover {
text-decoration:underline;
}

#here {
margin:0.5em;
padding:0;
}

#greek {
font-size:1.05em;
outline:none;
border:none;
border:0;
width:100%;
}

table td {
font-size:1.05em;
padding-left:0.4em;
}

table {
width:100%;
}

table {
border: 1px solid grey;
}

.td1 {

padding-right:1em;
}

.td2 {

}

.td3 {

}


.lemma {

}
</style>
</head>

<body>

<table>
<tr>
<td class="td1"><input type="text" placeholder="CHERCHE HELLENE" name="greek" id="greek" onclick="stop=1;" onkeypress="stop=1;if (event.keyCode == 13) greek()"/> </td>
<td class="td2"><span id="count"></span></td>
<td class="td3" nowrap><span id="time">È»</span></td>
</tr>
</table>

<div id="here">
<div id="main"></div>
</div>

</body>



<script>

stop = 0;

hdw = function() {
return new Promise((resolve, reject) => {
    setTimeout(_ => {
      resolve();
    }, 0)
  })
}


async function greek()
{
	stop=0
	document.getElementById('main').innerHTML = ""
	grk0 = document.getElementById('greek').value;	
	grk = document.getElementById('greek').value;	
	grk = grk.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase().replace(/^ +| +$/g,"")

	start_t = new Date().getTime();

	for (x=0 ; x!=bailly.length ; x++)
	{
		
		if (bailly[x])
		{
			lineh = bailly[x].normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase()

			
			if (lineh.indexOf(grk) != -1)
			{


				bailly_temp = bailly[x];
				//bailly_temp = bailly[x].replace(/^(\S+)/,"<b>$1</b>")
				
				re = new RegExp('('+grk0+')','gi')
				
				bailly_temp =  bailly_temp.replace(re,"<span style='background-color:#cbffca'>$1</span>")
				
				
				
				
				xx3 = document.createElement("div");
				xx3.innerHTML = bailly_temp+"<br><br>"
				document.getElementById('main').appendChild(xx3);
				document.getElementById('count').textContent = x
				await hdw();

				
			}
		}
		
		else
		{
			console.log(x)
		}
		
		
		if(stop == 1)
			break;
	
	}
	
	
	end_t = new Date().getTime();
	time = end_t - start_t;
	document.getElementById('time').textContent = time+" ms"
	document.getElementById('count').textContent = x+1

}

</script>
</html>