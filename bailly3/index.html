<!DOCTYPE html><html lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Nouveau Testament">
<meta name="keywords" content="Nouveau Testament">
	
<title>BAILLY</title>
<script src="array.js"></script>

<style>
html {
margin:0;
padding:0;
}

body {
margin:0;
padding:0;
font-family:serif;
}

a {
color:black;
text-decoration:none;
}

a:hover {
text-decoration:underline;
}

#here {
margin:0.5em;
padding:0;
}

#greek {
font-size:1.05em;
outline:none;
border:none;
border:0;
width:100%;
}

table td {
font-size:1.05em;
padding-left:0.4em;
}

table {
width:100%;
}

table {
border: 1px solid grey;
}

.td1 {

padding-right:1em;
}

.td2 {

}

.td3 {

}


.lema {
font-family:sans-serif;
font-weight:bold;
color:red;
font-size:1.1em;
}
</style>
</head>



<body>

<table>
<tr>
<td class="td1"><input type="text" placeholder="CHERCHE HELLENE" name="greek" id="greek" onclick="stop++;" onkeypress="stop++;if (event.keyCode == 13) get(this.value)"/> </td>
<td class="td2"><span id="count"></span></td>
<td class="td3" nowrap><span id="time">Ȼ</span></td>
<td class="td4" nowrap>
<select id="select" style="border: none;">
<option value="1">LEMME STRICT</option>
<option value="2">LEMME MOYEN</option>
<option value="3" selected>LEMME TOTAL</option>
<option value="4">CORPUS</option>
</select>
</td>
</tr>
</table>

<div id="here">
<div id="main"></div>
</div>

</body>



<script>



stop = 0

lar=[]







hdw = function(stop_h) {

if (stop_h != stop)
{
	//console.log(stop_h+" "+stop+" =-> stop")
	return 0;
}

return new Promise((resolve, reject) => {
    myVar = setTimeout(_ => {
      resolve();
    }, 0)
  })
}





async function get(graf)
{

	start_t = new Date().getTime();
	
	find_type = document.getElementById("select").value
	
	//await cleandom();
	document.getElementById("main").innerHTML = ""
	//clearTimeout(myVar);
	
	
	stop_h = stop
	
	for (e=1 ; e!=listar.length ; e++)
	{
		
		if (stop_h != stop)
		{
			//console.log("=-> stop")
			return;
		}
		
				//graf == user greek
				//grh  == book greek
			
			
				graf = graf.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase().replace(/^ +| +$/g,"")
				grh = listar[e].normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase()
				
				show = 0
				
				if (find_type == 1)
				{
					if (graf == grh)
						show = 1
				}
				
				else if (find_type == 2)
				{
					if (grh.indexOf(graf) != -1)
					{
						
						if (Math.abs(graf.length-grh.length) < 3)
							show = 1
					}
						
				}
				
				else if (find_type == 3)
				{
					if (grh.indexOf(graf) != -1)
					{
						show = 1
					}
						
				}
				
				
					if (show == 1)
					{
					
					document.getElementById('count').textContent = e
					if (!lar[e])
					{
							rea = await hdw(stop_h);
							if (rea == 0)
								return;
								
							var ele = document.createElement("script");
							//var scriptPath = e+".js"
							//ele.setAttribute("src",scriptPath);
							ele.src = e+".js"
							//ele.async = false;
							//eval(ele)
							ele.rr = e
							document.head.appendChild(ele)
							//document.getElementsByTag("head")[0].appendChild(ele)
							
								ele.onload = function()
								{
									//alert("Script loaded and ready");
									//console.log(lar[this.rr])
									//console.log(this.rr)
									//console.log(this.rr)
									//console.log(lar[this.rr])
									
								
									xx3 = document.createElement("div");
									xx3.innerHTML = "<span class='lema'>"+listar[this.rr]+"</span> "+lar[this.rr]+"<br>"
									document.getElementById('main').appendChild(xx3);
										
										
											
											
										
									
										
								  
								};
						
						}
						else
						{
							
							
								rea = await hdw(stop_h);
								if (rea == 0)
									return;
									
								xx3 = document.createElement("div");
								xx3.innerHTML = "<span class='lema'>"+listar[e]+"</span> "+lar[e]+"<br>"
								document.getElementById('main').appendChild(xx3);
								
							
						
						}
						
						
					}
					
					
					
					/*****
					 ΣΩΜΑΤΙΚΟΣ
					 ***********/
					 if (find_type == 4)
					 {
					 
						
					 
							
							
							
							rea = await hdw(stop_h);
							if (rea == 0)
								return;
							
							if (!lar[e])
							{
								document.getElementById('count').textContent = e
									
									
								ele = document.createElement("script");
								ele.async = true;
								ele.src = e+".js"
								ele.rr = e
								ele.graf = graf
								document.head.appendChild(ele)
							
							
								
							
								ele.onload = async function()
								{
									
									corpus = lar[this.rr].normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase()
									
									
									
									if (corpus.indexOf(this.graf) != -1)
									{
									
										//console.log("find corpus =>"+ corpus)
										re = new RegExp('('+this.graf+')','gi')
										corpus2 =  lar[this.rr].replace(re,"<span style='background-color:#cbffca'>$1</span>")
										
										
										xx3 = document.createElement("div");
										xx3.innerHTML = "<span class='lema'>"+listar[this.rr]+"</span> "+corpus2+"<br>"
										document.getElementById('main').appendChild(xx3);
										
									}
								}
							
							
							
							
							
							
							}
							
							else
							{
								
								
							
								corpus = lar[e].normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase()
								
								
								
								
								if (corpus.indexOf(graf) != -1)
								{
								
									
								
									
									
									re = new RegExp('('+graf+')','gi')
									corpus2 =  lar[e].replace(re,"<span style='background-color:#cbffca'>$1</span>")
									
									
									xx3 = document.createElement("div");
									xx3.innerHTML = "<span class='lema'>"+listar[e]+"</span> "+corpus2+"<br>"
									document.getElementById('main').appendChild(xx3);
									
									
								}
								
							}
							
						
						
						
							
					 }
					
					
					
					
			
			
		
	}
	document.getElementById('count').textContent = e
	end_t = new Date().getTime();
	time = end_t - start_t;
	document.getElementById('time').textContent = time+" ms"
}


/*
hdw2 = function() {
return new Promise((resolve, reject) => {
    setTimeout(_ => {
      resolve();
    }, 0)
  })
}


async function getall()
{
		for (ez=50000 ; ez!=listar.length ; ez++)
		{
			if (!lar[ez])
			{
				//console.log(ez)
				await hdw2();
				ele2 = document.createElement("script");
				ele2.src = ez+".js"
				document.head.appendChild(ele2)
				
			}

		}
}

getall()
*/

</script>